function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function formValidate(e){let t=0,o=e.querySelectorAll("._required");for(let e=0;e<o.length;e++){const n=o[e];formRemoveError(n),n.classList.contains("_email")?emailTest(n)&&(formAddError(n),t++):n.classList.contains("_phone")?(formatPhoneNumber(n),phoneTest(n)&&(formAddError(n),t++)):("checkbox"===n.getAttribute("type")&&!1===n.checked||""===n.value)&&(formAddError(n),t++)}return t}function formAddError(e){let t=e.parentElement.children;for(let e=0;e<t.length;e++){const o=t[e];o.parentNode.classList.add("_error"),o.classList.add("_error")}}function formRemoveError(e){let t=e.parentElement.children;for(let e=0;e<t.length;e++){const o=t[e];o.classList.remove("_error"),o.parentNode.classList.remove("_error")}}function emailTest(e){return!/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,8})+$/.test(e.value)}function phoneTest(e){return!/^[+]{1}[0-9]{3} [0-9]{9}/.test(e.value)}function formatPhoneNumber(e){if(e.value.length>1){let t,o=e.value.toString().trim().split("");for(let e=0;e<o.length;e++)"+"!=o[0]?o.unshift("+"):" "!=o[4]&&o.splice(4,0," "),t=o.join("");e.value=t}}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("popup-form");e.addEventListener("submit",(async function(c){c.preventDefault();let r=formValidate(),a=new FormData(e);if(a.append("image",n.files[0]),0===r)e.parentNode.classList.add("_sending"),async function(o){let n=await fetch(`${t}/posts`,{method:"POST",body:o});if(n.ok){let t=await n.json();return alert(`Request was succesfully created with status code ${n.status}`),s.innerHTML="",e.reset(),e.parentNode.classList.remove("_sending"),t}throw e.parentNode.classList.remove("_sending"),new Error(`${n.status}`)}(a);else{o(document.getElementsByClassName("messages-02")[0].children[0])}}));const t="https://jsonplaceholder.typicode.com";function o(e){e.classList.add("_active"),setTimeout((function(){e.classList.remove("_active")}),5e3)}const n=document.getElementById("form-image"),s=document.getElementById("image-preview");n.addEventListener("change",(()=>{!function(e){if(!["image/jpg","image/png","image/gif"].includes(e.type)){return o(document.getElementsByClassName("messages-01")[0].children[0]),void(n.value="")}var t=new FileReader;t.onload=function(e){s.innerHTML=`<img src="${e.target.result}" alt="preview-image">`},t.onerror=function(e){alert("Error")},t.readAsDataURL(e)}(n.files[0])}))})),document.addEventListener("DOMContentLoaded",(function(){const e=document.getElementById("form");e.addEventListener("submit",(async function(t){t.preventDefault();let n=formValidate(e),s=new FormData(e);if(0===n)form.parentNode.classList.add("_sending"),async function(e){let t=await fetch(`${o}/posts`,{method:"POST",body:e});if(t.ok){let e=await t.json();return alert(`Request was succesfully created with status code ${t.status}`),form.reset(),form.parentNode.classList.remove("_sending"),e}throw form.parentNode.classList.remove("_sending"),new Error(`${t.status}`)}(s);else{!function(e){e.classList.add("_active"),setTimeout((function(){e.classList.remove("_active")}),5e3)}(document.getElementsByClassName("messages-02")[0].children[0])}}));const t=e.getElementsByTagName("input");Array.from(t).forEach((e=>{e.addEventListener("input",(function(){""!=e.value?e.classList.add("_active"):e.classList.remove("_active")}))}));const o="https://jsonplaceholder.typicode.com"}));const popupLinks=document.querySelectorAll(".popup-link"),body=document.querySelector("body"),lockPadding=document.querySelectorAll(".lock-padding");let unlock=!0;const timeout=800;if(popupLinks.length>0)for(let e=0;e<popupLinks.length;e++){const t=popupLinks[e];t.addEventListener("click",(function(e){const o=t.getAttribute("href").replace("#","");popupOpen(document.getElementById(o)),e.preventDefault()}))}const popupCloseIcon=document.querySelectorAll(".close-popup");if(popupCloseIcon.length>0)for(let e=0;e<popupCloseIcon.length;e++){const t=popupCloseIcon[e];t.addEventListener("click",(function(e){popupClose(t.closest(".popup")),e.preventDefault()}))}function popupOpen(e){if(e&&unlock){const t=document.querySelector(".popup.open");t?popupClose(t,!1):bodyLock(),e.classList.add("open"),e.addEventListener("click",(function(e){e.target.closest(".popup__content")||popupClose(e.target.closest(".popup"))}))}}function popupClose(e,t=!0){unlock&&(e.classList.remove("open"),t&&bodyUnlock())}function bodyLock(){const e=window.innerWidth-document.querySelector(".wrapper").offsetWidth+"px";for(let t=0;t<lockPadding.length;t++){lockPadding[t].style.paddingRight=e}body.style.paddingRight=e,body.classList.add("lock"),unlock=!1,setTimeout((function(){unlock=!0}),800)}function bodyUnlock(){setTimeout((function(){if(lockPadding.length>0)for(let e=0;e<lockPadding.length;e++){lockPadding[e].style.paddingRight="0px"}body.style.paddingRight="0px",body.classList.remove("lock")}),800),unlock=!1,setTimeout((function(){unlock=!0}),800)}const icon=document.getElementsByClassName("icon-description"),elements=Array.from(icon),descriptionBody=document.getElementsByClassName("description_body");for(let e=0;e<elements.length;e++)icon[e].addEventListener("click",(function(){icon[e].classList.contains("_active")?(icon[e].classList.remove("_active"),descriptionBody[e].classList.remove("_active")):(icon[e].classList.add("_active"),descriptionBody[e].classList.add("_active"))}));const iconMenu=document.getElementsByClassName("icon-menu")[0],products=document.getElementsByClassName("_products")[0],menuBody=document.getElementsByClassName("menu__body")[0];function addClass(){iconMenu.classList.contains("_active")?(iconMenu.classList.remove("_active"),products.classList.remove("_active"),menuBody.classList.remove("_active")):(iconMenu.classList.add("_active"),menuBody.classList.add("_active"),products.classList.add("_active"))}iconMenu.addEventListener("click",addClass),products.addEventListener("mousedown",addClass);const headerLinks=document.getElementsByClassName("header__links"),burger=document.getElementsByClassName("icon-menu")[0].children,header=document.getElementById("header"),headerLogo=document.getElementsByClassName("header__logo")[0],productsLink=document.getElementsByClassName("_products")[0];document.addEventListener("scroll",setInterval((function(){let e=window.pageYOffset||document.documentElement.scrollTop,t=document.getElementsByTagName("main")[0].classList.contains("main"),o=productsLink.classList.contains("_active");e>=100&&(Array.from(headerLinks).forEach((e=>{e.style.color="#181818"})),Array.from(burger).forEach((e=>{e.style.background="#181818"})),header.style.background="#F6F6F6",headerLogo.style.color="#181818"),100>e&&o&&(Array.from(headerLinks).forEach((e=>{e.style.color="#181818"})),Array.from(burger).forEach((e=>{e.style.background="#181818"})),header.style.background="#F6F6F6",headerLogo.style.color="#181818"),100>e&&!o&&t&&(Array.from(headerLinks).forEach((e=>{e.style.color="#FFFFFF"})),Array.from(burger).forEach((e=>{e.style.background="#FFFFFF"})),header.style.background="#181818",headerLogo.style.color="#FFFFFF")})),1e3),document.addEventListener("click",setInterval((function(){let e=productsLink.classList.contains("_active");e&&(Array.from(headerLinks).forEach((e=>{e.style.color="#181818"})),header.style.background="#F6F6F6",headerLogo.style.color="#181818"),e||(Array.from(headerLinks).forEach((e=>{e.style.color="#FFFFFF"})),header.style.background="#181818",headerLogo.style.color="#FFFFFF")})),1e3);