function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function removeClass(e,t){for(let s=0;s<e.length;s++){e[s].classList.remove(t)}}function addToCart(e,t){if(!e.classList.contains("_hold")){e.classList.add("_hold"),e.classList.add("_fly");const s=document.querySelector(".actions-header__icon"),i=document.querySelector(`[data-pid="${t}"]`).querySelector(".item-product__image"),n=i.cloneNode(!0),o=i.offsetWidth,r=i.offsetHeight,l=i.getBoundingClientRect().top,a=i.getBoundingClientRect().left;n.setAttribute("class","_fly-image"),n.style.cssText=`\n    left: ${a}px;\n    top: ${l}px;\n    width: ${o}px;\n    height: ${r}px;\n    `,document.body.appendChild(n);const c=s.getBoundingClientRect().left,d=s.getBoundingClientRect().top;n.style.cssText=`\n    left: ${c}px;\n    top: ${d}px;\n    width: 0px;\n    height: 0px;\n    opacity: 0;\n    `,n.addEventListener("transitionend",(function(){e.classList.contains("_fly")&&(n.remove(),updateCart(e,t),e.classList.remove("_fly"))}))}}function updateCart(e,t,s=!0){const i=document.querySelector(".cart-header"),n=i.querySelector(".actions-header__icon"),o=n.querySelector("span"),r=document.querySelector(`[data-cart-pid="${t}"]`),l=document.querySelector(".cart-list");if(s){if(o?o.innerHTML=++o.innerHTML:n.insertAdjacentHTML("beforeend",'<span class="actions-header__quantity">1</span>'),r){const e=r.querySelector(".cart-list__quantity span");e.innerHTML=++e.innerHTML}else{const e=document.querySelector(`[data-pid="${t}"]`),s=`\n      <a href='' class='cart-list__image'>${e.querySelector(".item-product__image").innerHTML}</a>\n      <div class='cart-list__body'>\n      <a href='' class='cart-list__title'>${e.querySelector(".item-product__title").innerHTML}</a>\n      <div  class='cart-list__quantity'>Quantity: <span>1</span></div>\n      <a href='' class='cart-list__delete'>Delete</a>\n      </div>\n      `;l.insertAdjacentHTML("beforeend",`<li data-cart-pid='${t}' class='cart-list__item'>${s}</li>`)}e.classList.remove("_hold")}else{const e=r.querySelector(".cart-list__quantity span");e.innerHTML=--e.innerHTML,parseInt(e.innerHTML)||r.remove();const t=--o.innerHTML;t>0?o.innerHTML=t:(o.remove(),i.classList.remove("_active"))}}testWebP((function(e){1==e?document.querySelector("body").classList.add("webp"):document.querySelector("body").classList.add("no-webp")})),document.getElementsByClassName("icon-menu")[0].addEventListener("click",(function(){document.getElementsByClassName("icon-menu")[0].classList.contains("_active")?(document.getElementsByClassName("icon-menu")[0].classList.remove("_active"),document.getElementsByClassName("menu__body")[0].classList.remove("_active")):(document.getElementsByClassName("icon-menu")[0].classList.add("_active"),document.getElementsByClassName("menu__body")[0].classList.add("_active"))})),window.onload=function(){document.addEventListener("click",(function(e){const t=e.target;if(t.classList.contains("item-product__button")){const s=t.closest(".item-product").dataset.pid;addToCart(t,s),e.preventDefault()}t.classList.contains("cart__image")||t.classList.contains("actions-header__icon")||t.classList.contains("actions-header__quantity")?(document.querySelector(".cart-list").children.length>0&&document.querySelector(".cart-header").classList.add("_active"),e.preventDefault()):t.closest(".cart-header")||t.classList.contains("item-product__button")||document.querySelector(".cart-header").classList.remove("_active");if(t.classList.contains("cart-list__delete")){const s=t.closest(".cart-list__item").dataset.cartPid;updateCart(t,s,!1),e.preventDefault()}}))};const spollersArray=document.querySelectorAll("[data-spollers]");let _slideUp=(e,t=500)=>{e.classList.contains("_slide")||(e.classList.add("_slide"),e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=e.offsetHeight+"px",e.offsetHeight,e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,window.setTimeout((()=>{e.hidden=!0,e.style.removeProperty("height"),e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t))},_slideToggle=(e,t=500)=>e.hidden?_slideDown(e,t):_slideUp(e,t),_slideDown=(e,t=500)=>{if(!e.classList.contains("_slide")){e.classList.add("_slide"),e.hidden&&(e.hidden=!1);let s=e.offsetHeight;e.style.overflow="hidden",e.style.height=0,e.style.paddingTop=0,e.style.paddingBottom=0,e.style.marginTop=0,e.style.marginBottom=0,e.offsetHeight,e.style.transitionProperty="height, margin, padding",e.style.transitionDuration=t+"ms",e.style.height=s+"px",e.style.removeProperty("padding-top"),e.style.removeProperty("padding-bottom"),e.style.removeProperty("margin-top"),e.style.removeProperty("margin-bottom"),window.setTimeout((()=>{e.hidden=!1,e.style.removeProperty("height"),e.style.removeProperty("overflow"),e.style.removeProperty("transition-duration"),e.style.removeProperty("transition-property"),e.classList.remove("_slide")}),t)}};if(spollersArray.length>0){const e=Array.from(spollersArray).filter((function(e,t,s){return!e.dataset.spollers.split(",")[0]}));e.length>0&&initSpollers(e);const t=Array.from(spollersArray).filter((function(e,t,s){return e.dataset.spollers.split(",")[0]}));if(t.length>0){const s=[];t.forEach((e=>{const t={},i=e.dataset.spollers.split(",");t.value=i[0],t.type=i[1]?i[1].trim():"max",t.item=e,s.push(t)}));let i=s.map((function(e){return`(${e.type}-width: ${e.value}px),${e.value},${e.type}`}));i=i.filter((function(e,t,s){return s.indexOf(e)===t})),i.forEach((e=>{const t=e.split(","),i=t[1],n=t[2],o=window.matchMedia(t[0]),r=s.filter((function(e){if(e.value===i&&e.type===n)return!0}));o.addListener((function(){initSpollers(r,o)})),initSpollers(r,o)}))}function initSpollers(e,t=!1){e.forEach((e=>{e=t?e.item:e,t.matches||!t?(e.classList.add("_init"),initSpollerBody(e),e.addEventListener("click",setSpollerAction)):(e.classList.remove("_init"),initSpollerBody(e,!1),e.removeEventListener("click",setSpollerAction))}))}function initSpollerBody(e,t=!0){const s=e.querySelectorAll("[data-spoller]");s.length>0&&s.forEach((e=>{t?(e.removeAttribute("tabindex"),e.classList.contains("_active")||(e.nextElementSibling.hidden=!0)):(e.setAttribute("tabindex","-1"),e.nextElementSibling.hidden=!1)}))}function setSpollerAction(e){const t=e.target;if(t.hasAttribute("data-spoller")||t.closest("[data-spoller]")){const s=t.hasAttribute("data-spoller")?t:t.closest("[data-spoller]"),i=s.closest("[data-spollers]"),n=!!i.hasAttribute("data-one-spoller");i.querySelectorAll("._slide").length||(n&&!s.classList.contains("_active")&&hideSpollersBody(i),s.classList.toggle("_active"),_slideToggle(s.nextElementSibling,500)),e.preventDefault()}}function hideSpollersBody(e){const t=e.querySelector("[data-spoller]._active");t&&(t.classList.remove("_active"),_slideUp(t.nextElementSibling,500))}}